<!DOCTYPE html><html><head><meta charset="utf-8"><title>Отчет по ЛР-1.md (2).html</title><style></style></head><body id="preview">
<h1 class="code-line" data-line-start=0 data-line-end=1 ><a id="__2_0"></a>Отчет по ЛР-2</h1>
<h3 class="code-line" data-line-start=2 data-line-end=3 ><a id="_22_2"></a>Вариант 22.</h3>
<h4 class="code-line" data-line-start=4 data-line-end=5 ><a id="__735_4"></a>Хетагуров Павел Иу7-35Б</h4>
<h3 class="code-line" data-line-start=6 data-line-end=7 ><a id="1____6"></a>1. Описание условия задачи</h3>
<p class="has-line-data" data-line-start="8" data-line-end="16"><strong>Цель:</strong> приобрести навыки работы с типом данных «запись»<br>
(структура), содержащим вариантную часть (объединение, смесь), и с данными,<br>
хранящимися в таблицах, произвести сравнительный анализ реализации<br>
алгоритмов сортировки и поиска информации в таблицах, при использовании<br>
записей с большим числом полей, и тех же алгоритмов, при использовании<br>
таблицы ключей; оценить эффективность программы по времени и по<br>
используемому объему памяти при использовании различных структур и<br>
эффективность использования различных алгоритмов сортировок.</p>
<p class="has-line-data" data-line-start="18" data-line-end="24"><strong>Общее условие задачи:</strong> Создать таблицу, содержащую не менее 40 записей с вариантной частью. Произвести поиск информации по вариантному полю. Упорядочить таблицу, по возрастанию ключей<br>
(где ключ – любое невариантное поле по выбору программиста), используя: а) исходную<br>
таблицу; б) массив ключей, используя 2 разных алгоритма сортировки. Оценить<br>
эффективность этих алгоритмов (по времени и по используемому объему памяти) при<br>
различной реализации программы, то есть в случаях а) и б). Обосновать выбор алгоритма<br>
сортировки. Оценка эффективности должна быть относительной (в %).</p>
<p class="has-line-data" data-line-start="25" data-line-end="29"><strong>Вариантное условие задачи:</strong> Ввести список абонентов, содержащий фамилию, имя, телефон,<br>
адрес, статус (личный – дата рождения: день, месяц, год;<br>
служебный – должность, организация). Найти всех друзей, которых<br>
необходимо поздравить с днем рождения в ближайшую неделю.</p>
<h4 class="code-line" data-line-start=30 data-line-end=31 ><a id="____30"></a>ТЗ и внешняя спецификация</h4>
<p class="has-line-data" data-line-start="32" data-line-end="34"><strong>Исходные данные и результаты (типы, форматы, способ передачи, ограничения):</strong><br>
<strong>Исходные данные</strong>:</p>
<ol>
<li class="has-line-data" data-line-start="35" data-line-end="37">Файл в phoneBook.csv в формате csv, содержащий на каждой строчке - корректную запись, поля которой разделены симолом <code>;</code>. После последней записи <strong>НЕ</strong> следует пустая строка.<br>
<strong>Способ передачи</strong>: Расположение в той же дирректории, что и исполняемый файл. Читается при исполнении программы.</li>
<li class="has-line-data" data-line-start="37" data-line-end="41">Информация, требуемая по заданию, хотя бы для одной записи.<br>
<strong>Способ передачи</strong>: Ввод в консоль (стандартный поток ввода).<br>
Если в программу не будут, переданы исходные данные - функционал будет ограничен.</li>
</ol>
<p class="has-line-data" data-line-start="41" data-line-end="42"><strong>Ограничения</strong>:</p>
<ol>
<li class="has-line-data" data-line-start="42" data-line-end="43">Вводимые поля не могут содержать символ <code>;</code>, иначе не гарантируется корректность при работе с файлом (запись и считывание)</li>
<li class="has-line-data" data-line-start="43" data-line-end="44">Поле <code>birthday</code> состоит ровно из 8 цифр, дата вводится в формате YYYYMMDD без разделителей. Корректность даты контролируется пользователем.</li>
<li class="has-line-data" data-line-start="44" data-line-end="45">В поле <code>status</code> записывается <code>0</code>, если статус личный, и <code>1</code>, если статус служебный.</li>
<li class="has-line-data" data-line-start="45" data-line-end="46">Допускаются пустые поля, кроме полей <code>status</code>, <code>birthday</code>, <code>surname</code>.</li>
<li class="has-line-data" data-line-start="46" data-line-end="47">Ведущие и заключительные пробелы - считаются частью поля и не удаляются.</li>
<li class="has-line-data" data-line-start="47" data-line-end="48">Максимальный размер таблицы - 2000 записей</li>
<li class="has-line-data" data-line-start="48" data-line-end="49">При расчете дат, считается, что в каждом месяце 31 день</li>
<li class="has-line-data" data-line-start="49" data-line-end="50">Максимальная длинна для полей <code>surname</code> и <code>name</code> - 63 символов, <code>address</code>, <code>position</code> и <code>company</code> - 127 символов, <code>phone</code> - 15 символов.</li>
<li class="has-line-data" data-line-start="50" data-line-end="52">При вводе из файла - корректность данных не проверяется.</li>
</ol>
<p class="has-line-data" data-line-start="52" data-line-end="53"><strong>Выходные данные:</strong></p>
<p class="has-line-data" data-line-start="54" data-line-end="55">В зависимости от выбранных пунктов.</p>
<ol>
<li class="has-line-data" data-line-start="55" data-line-end="57">Пункты <code>Print phone book</code>, <code>print key table</code> и <code>Print phone book by key table</code><br>
выводят в консоль (стандартный поток вывода) таблицу записей, таблицу ключей и таблицу записей по таблице ключей соответственно.</li>
<li class="has-line-data" data-line-start="57" data-line-end="58">Пункт <code>Compare sort</code> выводит в консоль (стандартный поток вывода) сравнение по времени пузырьковой и быстрой сортировок для таблиц из 100, 500 и 1000 записей, и соответствующих им таблиц ключей.</li>
<li class="has-line-data" data-line-start="58" data-line-end="60">Пункт <code>Find friends with birthday in week</code> выводит в консоль (стандартный поток вывода) записи о людях с личным статусом и днем рождения в пределах недели от вводимой даты.</li>
</ol>
<p class="has-line-data" data-line-start="60" data-line-end="61"><strong>Способ обращения к программе</strong>: Запуск app.exe, ввод с клавиатуры или из файла phoneBook.csv, лежащего в той же дирректориии, что и исполняемый файл.</p>
<p class="has-line-data" data-line-start="62" data-line-end="63"><strong>Описание возможных аварийных ситуаций и ошибок пользователя:</strong></p>
<ol>
<li class="has-line-data" data-line-start="64" data-line-end="65">Некорректный ввод.</li>
<li class="has-line-data" data-line-start="65" data-line-end="66">Ошибка открытия файла</li>
<li class="has-line-data" data-line-start="66" data-line-end="68">Невозможность выделения памяти</li>
</ol>
<h3 class="code-line" data-line-start=68 data-line-end=69 ><a id="2____68"></a>2.Описание внутренних структур данных</h3>
<p class="has-line-data" data-line-start="70" data-line-end="72"><strong>Описание полей</strong><br>
<a href="img/privateinfo.png">privateInfo_t</a></p>
<ul>
<li class="has-line-data" data-line-start="72" data-line-end="76">.birthday - Массив char.<br>
Данная структура выбранна, так как является частью union, и в него может добавлятся информация помимо дня рождения позже.<br>
Поле .birthday является массивом char, так как это позволяет легче сравнивать даты.</li>
</ul>
<p class="has-line-data" data-line-start="76" data-line-end="77"><a href="img/info.png">workInfo_t</a></p>
<ul>
<li class="has-line-data" data-line-start="77" data-line-end="78">.company - Массив char.</li>
<li class="has-line-data" data-line-start="78" data-line-end="81">.position - Массив char<br>
Данная структура выбранна по тем же соображениям, что и privateInfo_t</li>
</ul>
<p class="has-line-data" data-line-start="81" data-line-end="82"><a href="img/extrainfo.png">extraInfo</a></p>
<ul>
<li class="has-line-data" data-line-start="82" data-line-end="83">.privateInfo - поле типа privateInfo_t.</li>
<li class="has-line-data" data-line-start="83" data-line-end="86">.workInfo - поле типа workInfo_t<br>
Структура выбрана, так как позволяет реализовать выбор поля по условию</li>
</ul>
<p class="has-line-data" data-line-start="86" data-line-end="87"><a href="img/subscriber.png">subscriber_t</a></p>
<ul>
<li class="has-line-data" data-line-start="87" data-line-end="88">.surname - Массив char. Хранит текст</li>
<li class="has-line-data" data-line-start="88" data-line-end="89">.name - Массив char. Хранит текст</li>
<li class="has-line-data" data-line-start="89" data-line-end="90">.phone - Массив char, так как нет единого формата телефона.</li>
<li class="has-line-data" data-line-start="90" data-line-end="91">.address - Массив char. Хранит текст</li>
<li class="has-line-data" data-line-start="91" data-line-end="92">.status - enum subscriberStatus.</li>
<li class="has-line-data" data-line-start="92" data-line-end="94">.info - поле типа extraInfo. Данные внутри выбираются, основываясь на .status</li>
</ul>
<p class="has-line-data" data-line-start="94" data-line-end="95">Была выбрана запись с вариантами, так как при существенном количистве информации любая память - критична. Сэкономить её помогает тип union, который хранит несколько типов данных в одном месте в памяти. Из-за того, что конкретное поле мы выбираем основываясь на поле status, гарантировано, что доступ к полю, ассоциированному с другим статусом нам не потребуется, и, как следствие, можно использовать union.</p>
<p class="has-line-data" data-line-start="96" data-line-end="97"><a href="img/subscriberKey.png">subscriberKey_t</a></p>
<ul>
<li class="has-line-data" data-line-start="97" data-line-end="98">.position - позиция элемента в исходной таблице</li>
<li class="has-line-data" data-line-start="98" data-line-end="100">.keySurname - ключ(surname)</li>
</ul>
<p class="has-line-data" data-line-start="100" data-line-end="101">В структуре хранится минимальная требуемая информация для обработки данных, что позволяет экономить количество времени, требуемого для обработки исходной структуры (subscriber_t)</p>
<p class="has-line-data" data-line-start="102" data-line-end="103"><a href="img/phoneBook.png">phoneBook_t</a></p>
<ul>
<li class="has-line-data" data-line-start="103" data-line-end="104">.subscribers - динамический массив абонентов</li>
<li class="has-line-data" data-line-start="104" data-line-end="106">.subscribersCount - количество абонентов.</li>
</ul>
<p class="has-line-data" data-line-start="106" data-line-end="107">Так как заранее неизвестно количество данных, а их размер может быть большим, разумно использовать динамичскую память. В данной структуре находится как динамический массив, так и указание на кол-во элементов в нем.</p>
<p class="has-line-data" data-line-start="108" data-line-end="109"><a href="img/keyTable.png">phoneBookKeyTable_t</a></p>
<ul>
<li class="has-line-data" data-line-start="109" data-line-end="110">.keys - динамический массив ключей на основе абонентов.</li>
<li class="has-line-data" data-line-start="110" data-line-end="112">.keysCount - количество ключей.</li>
</ul>
<p class="has-line-data" data-line-start="112" data-line-end="113">Так как (phoneBook_t) слишком массивен и долог в обработке, необходимо использовать более маленькую таблицу, содержащую только информацию, необходимую для обработки.</p>
<h4 class="code-line" data-line-start=114 data-line-end=115 ><a id="4___114"></a>4. Оценка алгоритма.</h4>
<p class="has-line-data" data-line-start="116" data-line-end="118">По памяти без испольщования дополнительного массива ключей: O(n), так как при добавлении новой записи, выделяется место только под неё.<br>
По памяти при использовании дополнительного массива ключей: O(n + 0.2n) = O(n), так как для каждой новой записи необходим новый ключ, а какждый ключ примерно в 5 раз меньше исходной записи.</p>
<p class="has-line-data" data-line-start="119" data-line-end="121"><a href="img/sortCompare.png">sort comparing</a><br>
По времени без использования дополнительного массива: O(сортировки) + время для перемещения большого куска памяти умноженное на сложность сортировки)</p>
<h3 class="code-line" data-line-start=121 data-line-end=122 ><a id="3__121"></a>3.Функциональные тесты</h3>
<p class="has-line-data" data-line-start="122" data-line-end="123">Так как считается, что в файле все данные корректны - ввод из файла не проверяется.</p>
<table class="table table-striped table-bordered">
<thead>
<tr>
<th>Исходные данные</th>
<th>Выходные</th>
<th>Описание теста</th>
</tr>
</thead>
<tbody>
<tr>
<td>поле, бол</td>
<td>Wrong input</td>
<td>Проверка ввода двойного знака</td>
</tr>
</tbody>
</table>

</body></html>